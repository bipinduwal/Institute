"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2978],{9325:function(e,r,o){o.d(r,{Q:function(){return a}});let a=e=>{let{func:r,isLoggedIn:o,showModal:a}=e;o?r():a()}},2978:function(e,r,o){o.d(r,{Z:function(){return eT}});var a=o(5893),n=o(5689),l=o(9893),t=o(7294),i=o(3742),s=o(5541),c=o(3589),d=o(4581),x=o(6205),g=o(4292),h=o(9289),m=o(1679),u=o(5281),p=o(6948),y=o(1293),j=o(7239),b=o(1136),f=o(2916),w=o(3717),k=o(1121),C=o(1818),_=o(8318),v=o(5451),S=o(2076),z=o(9820);let D=e=>new Promise(r=>setTimeout(r,e)),I=e=>{let{plan:r,streakCount:o,rewardClaimed:n,onClose:l}=e,[i,s]=(0,t.useState)("init"),c="none"!==r,[d,x]=(0,t.useState)(!1),[h,I]=(0,t.useState)(n),[R,J]=(0,t.useState)(null),O=c?null:200+100*Math.min(o-1,3),W=R||(c?4:null),{reward:M}=(0,S.w5)("rewardId","confetti",{elementCount:100,elementSize:8}),F=async e=>{x(!0);let r=await fetch("/api/rewards/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageCredits:O,videoCredits:e})});403===r.status&&I(!0),await (0,z.JG)("/api/accountDetails"),s("close"),await D(100),M(),x(!1)},L=async()=>{s("roll");let e=c?Math.floor(11*Math.random())+10:Math.floor(11*Math.random())+5;J(e),await F(e)},E=async()=>{await F(W)};return h?(0,a.jsxs)(u.K,{spacing:1,position:"relative",align:"center",children:[(0,a.jsx)(p.J,{as:C.wk9,h:"40px",w:"40px",color:"green.400"}),(0,a.jsx)(y.x,{fontSize:"md",align:"center",children:"You have already claimed your reward today."})]}):(0,a.jsxs)(u.K,{spacing:4,position:"relative",width:"240px",children:[(0,a.jsxs)(g.U,{spacing:2,display:"close"===i?"flex":"none",children:[(0,a.jsx)(p.J,{as:k.A0_,h:"40px",w:"40px"}),(0,a.jsxs)(u.K,{spacing:2,children:[(0,a.jsxs)(y.x,{fontWeight:600,fontSize:"md",children:["You got ",O?"".concat(O," turbo images"):"",W?"".concat(O?" and ":"").concat(W," credits"):"",". Enjoy! \uD83C\uDF89",(0,a.jsx)("span",{id:"rewardId"})]}),(0,a.jsxs)(y.x,{fontWeight:600,fontSize:"md",children:["Keep coming back for a special reward on day ",(Math.floor(o/5)+1)*5,"!"]})]})]}),(0,a.jsx)(j.M,{display:"roll"===i?"flex":"none",h:"60px",w:"100%",children:(0,a.jsx)(b.$,{})}),(0,a.jsxs)(g.U,{spacing:2,display:"init"===i?"flex":"none",children:[(0,a.jsx)(p.J,{as:k.A0_,h:"40px",w:"40px"}),(0,a.jsx)(u.K,{spacing:0,children:(0,a.jsx)(y.x,{fontWeight:600,fontSize:"md",children:c?1===o?"Claim your first reward of free credits.":o%5==0?"Woohoo! It's day ".concat(o,". Roll to claim your credits."):"Day ".concat(o," and going strong! Claim today's reward for free credits."):1===o?"Claim your first reward of 200 images.":o%5==0?"Woohoo! It's day ".concat(o,". Roll to claim your 500 images plus free credits."):"Day ".concat(o," and going strong! Claim today's reward of ").concat(200+100*Math.min(o-1,3)," images.")})})]}),(0,a.jsx)(f.z,{onClick:"init"===i?o%5==0?L:E:"reward"===i?E:l,isDisabled:d,variant:"unstyled",h:"40px",w:"100%",border:"1px",borderRadius:"0.5rem",borderColor:"gray.300",bg:"gray.100",_hover:{borderColor:"gray.400",bg:"gray.200"},_dark:{bg:"gray.800",borderColor:"gray.700",_hover:{borderColor:"gray.600"}},children:(0,a.jsxs)(w.k,{justify:"center",align:"center",gap:1,children:["init"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:o%5==0?"Roll":"Claim"}),(0,a.jsx)(p.J,{as:o%5==0?v.CE8:_.mBF,h:"14px",w:"14px",mb:"2px",color:"black",_dark:{color:"white"}})]}),"roll"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:"Roll"}),(0,a.jsx)(p.J,{as:v.CE8,h:"14px",w:"14px",mb:"2px",color:"black",_dark:{color:"white"}})]}),"reward"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:"Claim"}),(0,a.jsx)(p.J,{as:_.mBF,h:"14px",w:"14px",mb:"2px",color:"black",_dark:{color:"white"}})]}),"close"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{children:"Close"}),(0,a.jsx)(p.J,{as:m.T,h:"10px",w:"10px",mb:"2px",color:"black",_dark:{color:"white"}})]})]})})]})};var R=o(7747),J=o(2757),O=o(2091);let W=e=>{let{startDay:r,streakCount:o,index:n}=e,l=r+n,t=l<=o;return l%5==0?(0,a.jsxs)(u.K,{align:"center",userSelect:"none",h:"62px",justify:"space-between",children:[t?(0,a.jsx)(p.J,{as:O.RPl,h:"30px",w:"30px",color:"green.400",mt:"4px"}):(0,a.jsx)(p.J,{mt:"4px",as:O.RPl,h:"30px",w:"30px",color:"gray.300",_dark:{color:"gray.500"}}),(0,a.jsxs)(y.x,{mt:t?-1:0,fontSize:"xs",color:"gray.500",whiteSpace:"nowrap",_dark:{color:"gray.400"},children:["Day ",l]})]}):(0,a.jsxs)(u.K,{align:"center",userSelect:"none",h:"62px",justify:"space-between",children:[t?(0,a.jsx)(p.J,{as:C.wk9,h:"40px",w:"40px",color:"green.400"}):(0,a.jsx)(R.Cd,{mt:"4px",bg:"transparent",color:"white",border:"4px solid",borderColor:"gray.300",_dark:{borderColor:"gray.500"},size:8}),(0,a.jsxs)(y.x,{mt:t?-1:0,fontSize:"xs",color:"gray.500",whiteSpace:"nowrap",_dark:{color:"gray.400"},children:["Day ",l]})]})},M=e=>{let{startDay:r,streakCount:o}=e;return(0,a.jsxs)(u.K,{spacing:8,children:[(0,a.jsxs)(g.U,{userSelect:"none",children:[(0,a.jsx)(p.J,{as:O.ZBn,w:"70px",h:"70px",color:"red.400",_dark:{color:"red.500"}}),(0,a.jsxs)(u.K,{spacing:0,children:[(0,a.jsx)(J.X,{fontSize:"45px",fontWeight:"400",color:"black",_dark:{color:"white"},lineHeight:.9,children:o}),(0,a.jsx)(J.X,{size:"xs",color:"gray.500",_dark:{color:"gray.400"},children:"day streak"})]})]}),(0,a.jsx)(g.U,{spacing:5,pl:2,children:[void 0,void 0,void 0,void 0,void 0].map((e,n)=>(0,a.jsx)(W,{startDay:r,streakCount:o,index:n},n))})]})},F=e=>{let{isOpen:r,onClose:o,streakCount:n=1,rewardClaimed:l=!1,isMobile:t=!1,closeable:i=!1,plan:m="none"}=e;return(0,a.jsxs)(s.u_,{isOpen:r,onClose:o,isCentered:!0,closeOnOverlayClick:i,children:[(0,a.jsx)(c.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(20px)"}),(0,a.jsxs)(d.h,{w:"max-content",maxW:"40rem",bg:"transparent",_dark:{bg:"transparent"},children:[i&&(0,a.jsx)(x.o,{border:0,cursor:"pointer",size:"lg",mt:"-0.25rem",mr:"-0.5rem",_focus:{boxShadow:"none"}}),(0,a.jsxs)(g.U,{flexDir:t?"column":"row",spacing:10,p:10,h:t?"100%":"260px",bg:"white",borderRadius:"0.5rem",_dark:{bg:"black"},children:[(0,a.jsx)(M,{startDay:n>2?n-2:1,streakCount:n}),(0,a.jsx)(h.i,{h:t?"100%":"260px",orientation:t?"horizontal":"vertical"}),(0,a.jsx)(I,{plan:m,streakCount:n,rewardClaimed:l,onClose:o})]})]})]})};var L=o(2883),E=o(5028),Z=o(2730),A=o(1955),N=o(6013),P=o(2729),T=o(917),q=o(7963),H=o(5161),K=o(4880),B=o(6712),U=o(1170),X=o(4040),Y=o(4970),G=o(7874),Q=o(1163),V=o(8633),$=o(80),ee=o(304),er=o(3754),eo=o(9325),ea=o(2161),en=o(5462),el=o(4327);let et=e=>{let{initialDirection:r,thresholdPixels:o,off:a}=e,[n,l]=(0,t.useState)(r);return(0,t.useEffect)(()=>{let e=o||0,n=window.pageYOffset,t=!1,i=()=>{let r=window.pageYOffset;if(Math.abs(r-n)<e){t=!1;return}l(r>n?"down":"up"),n=r>0?r:0,t=!1},s=()=>{t||(window.requestAnimationFrame(i),t=!0)};return a?l(r):window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[r,o,a]),n};var ei=o(1664),es=o.n(ei),ec=o(5083),ed=o(5335),ex=o(4859),eg=o(4346),eh=o(7219),em=o(4588),eu=o(3468),ep=o(4758);let ey="".concat(ep.IQ,"-whatsNew"),ej="".concat(ep.IQ,"-whatsNew-version"),eb=[{title:"Guided Prompting",description:"Use simple language and chain commands in Guided Mode. Let us handle the complicated prompting for you.",videoSrc:"".concat(ep.hb,"/public/whatsNew/guided.mp4"),href:"/create"},{title:"Edit your Images",description:"Easily edit your images by selecting an area and describing what you want to change.",videoSrc:"".concat(ep.hb,"/public/whatsNew/edit.mp4"),href:"/create"}],ef=e=>{let{title:r,description:o,videoSrc:l,href:t}=e,i=(0,n.Z)();return(0,a.jsxs)(w.k,{justifyContent:"center",flexDir:"column",children:[(0,a.jsx)(L.r,{href:t,children:(0,a.jsx)(R.xu,{draggable:"false",borderRadius:"1rem",objectFit:"contain",overflow:"hidden",w:"100%",minH:i?"11rem":"22rem",position:"relative",children:(0,a.jsx)("video",{src:l,autoPlay:!0,loop:!0,muted:!0,playsInline:!0})})}),(0,a.jsx)(L.r,{href:t,children:(0,a.jsx)(y.x,{textAlign:"center",fontSize:"xl",color:"primary.600",_dark:{color:"primary.300"},my:"0.5rem",fontWeight:"bold",children:r})}),(0,a.jsx)(y.x,{textAlign:"center",fontSize:"md",color:"gray.700",_dark:{color:"gray.200"},mx:i?"1rem":"4rem",children:o})]})},ew=e=>{let{featureIndex:r,setFeatureIndex:o,featureLength:n}=e;return 1===n?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(w.k,{justifyContent:"center",align:"center",mt:"1rem",children:[(0,a.jsx)(eh.w,{w:"1.5rem",h:"1.5rem",borderRadius:"0.25rem",_hover:{bg:"gray.300"},_dark:{_hover:{bg:"gray.600"}},mx:"0.25rem",cursor:"pointer",onClick:function(){o(Math.max(0,r-1))}}),Array(n).fill(0).map((e,n)=>(0,a.jsx)(R.xu,{borderRadius:"full",bg:r===n?"blackAlpha.900":"gray.400",_dark:{bg:r===n?"whiteAlpha.900":"gray.500"},w:"1rem",h:"0.5rem",p:"0.25rem",mx:"0.5rem",onClick:()=>o(n),cursor:"pointer"},n)),(0,a.jsx)(em.X,{w:"1.5rem",h:"1.5rem",borderRadius:"0.25rem",_hover:{bg:"gray.300"},_dark:{_hover:{bg:"gray.600"}},mx:"0.25rem",cursor:"pointer",onClick:function(){o(Math.min(n-1,r+1))}})]})},ek=e=>{let{isOpen:r,onClose:o}=e,[l,i]=(0,t.useState)(0),g=(0,n.Z)(),[h,m]=(0,t.useState)(!1),u=()=>{m(!h),localStorage.setItem(ey,"".concat(!h))};if((0,t.useEffect)(()=>{m("true"===localStorage.getItem(ey))},[]),!r)return(0,a.jsx)(a.Fragment,{});let p=eb[l];return(0,a.jsxs)(s.u_,{isOpen:r,onClose:o,isCentered:!0,size:"xl",children:[(0,a.jsx)(c.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(10px)"}),(0,a.jsxs)(d.h,{border:"1px",borderColor:"gray.100",bg:"gray.100",_dark:{borderColor:"gray.700",bg:"gray.800"},maxW:g?"95vw":"40rem",children:[(0,a.jsx)(ex.x,{borderTopRadius:"md",fontSize:"xl",bg:"gray.100",_dark:{bg:"gray.800"},children:(0,a.jsx)(y.x,{fontSize:"xl",fontWeight:"bold",color:"blackAlpha.900",_dark:{color:"whiteAlpha.900"},textAlign:"center",children:"What's New"})}),(0,a.jsx)(x.o,{size:"lg"}),(0,a.jsxs)(eg.f,{bg:"gray.100",_dark:{bg:"gray.800"},children:[(0,a.jsx)(ef,{title:p.title,description:p.description,videoSrc:p.videoSrc,href:p.href},l),(0,a.jsx)(ew,{featureIndex:l,setFeatureIndex:i,featureLength:eb.length}),(0,a.jsx)(w.k,{justifyContent:"center",flexDir:"column",children:(0,a.jsx)(eu.X,{alignSelf:"center",mt:"1rem",isChecked:h,onChange:u,color:"gray.500",_dark:{color:"gray.400"},opacity:"0.9",size:"sm",children:"Don't show this again"})})]})]})]})},eC=e=>{let{accountDetails:r,isMobile:o,setShowNotification:n,onWhatsNewOpen:l,onWhatsNewClose:i,whatsNewOpen:s}=e;return(0,t.useEffect)(()=>{let e=localStorage.getItem(ej),o=localStorage.getItem("".concat(ey,"-date")),a=new Date().toDateString();null!==e&&"2"!==e&&o!==a&&n(!0);let t=async()=>{if(!(null==r?void 0:r.customerId))return;let e=localStorage.getItem(ey);"true"!==e&&o!==a&&(l(),localStorage.setItem(ej,"2"),localStorage.setItem("".concat(ey,"-date"),a))};t()},[o,r]),(0,a.jsx)(ek,{isOpen:s,onClose:i})},e_=e=>{let{user:r,accountDetails:o}=e,{isOpen:n,onOpen:l,onClose:i}=(0,Z.q)(),{isOpen:s,onOpen:d,onClose:g}=(0,Z.q)(),[h,m]=(0,t.useState)(!1),u=()=>{m(!1),d(),localStorage.setItem(ej,"2")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(f.z,{"aria-label":"Menu button",variant:"unstyled",px:"0.5rem",pr:"1rem",ml:"0.25rem",h:"2.5rem",display:"flex",alignItems:"center",borderRadius:"0.5rem",onClick:l,_hover:{backgroundColor:"gray.200"},_dark:{_hover:{backgroundColor:"gray.700"}},__css:{"&:hover #menu-icon":{color:"gray.200"}},children:[(0,a.jsx)(p.J,{as:_.pLT,height:"1.75rem",width:"1.75rem",color:"gray.600",_dark:{color:"gray.400"},mr:"0.5rem",id:"menu-icon"}),(0,a.jsx)(p.J,{as:N.D,w:"136px",minW:"136px",h:"32px",minH:"32px",color:"gray.800",_dark:{color:"gray.100"}})]}),(0,a.jsxs)(ec.d,{isOpen:n,placement:"left",onClose:i,children:[(0,a.jsx)(c.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(10px)"}),(0,a.jsxs)(ed.s,{m:0,bg:"white",borderBottom:"0",borderTop:"0",_dark:{bg:"black"},maxW:"min-content",children:[(0,a.jsx)(x.o,{size:"lg"}),(0,a.jsx)(ex.x,{pb:"0",children:(0,a.jsx)(p.J,{as:N.D,w:"136px",minW:"136px",h:"32px",minH:"32px",color:"gray.800",_dark:{color:"gray.100"}})}),(0,a.jsx)(eg.f,{p:"0.5rem",pt:"1rem",children:(0,a.jsx)(eL,{user:r,accountDetails:o,isMobile:!0,collapsed:!1,onNavClick:i,handleWhatsNewOpen:u,showNotification:h})})]})]}),(0,a.jsx)(eC,{accountDetails:o,onWhatsNewOpen:d,onWhatsNewClose:g,whatsNewOpen:s,isMobile:!0,setShowNotification:m})]})},ev=e=>{let{href:r,label:o,icon:n,isActive:l}=e;return(0,a.jsx)(L.r,{href:r,onClick:e=>{"/explore"===r&&l&&(window.location.href="/explore",e.preventDefault())},children:(0,a.jsxs)(w.k,{flexDir:"column",h:"3rem",maxH:"3rem",minH:"3rem",w:"5rem",align:"center",justify:"center",pt:"0.25rem",children:[n,(0,a.jsx)(y.x,{fontSize:"0.8rem",fontWeight:l?"bold":"normal",color:l?"black":"gray.700",_dark:{color:l?"white":"gray.200"},children:o})]})})},eS=()=>{(0,Q.useRouter)();let e=window.location.pathname,r="/explore"===e||e.includes("/station/");return(0,a.jsxs)(w.k,{bottom:"0",position:"fixed",flexDir:"row",w:"100%",h:"3.5rem",maxH:"3.5rem",minH:"3.5rem",bg:"white",borderBottom:"1px",borderColor:"gray.300",_dark:{bg:"black",borderColor:"gray.700"},align:"center",zIndex:"4",transition:"transform 0.2s ease-in-out",justify:"space-around",children:[(0,a.jsx)(ev,{href:"/explore",label:"Explore",icon:(0,a.jsx)(p.J,{as:_.wcj,h:"1.5rem",w:"1.5rem",color:r?"black":"gray.700",_dark:{color:r?"white":"gray.200"}}),isActive:r}),(0,a.jsx)(ev,{href:"/create",label:"Create",icon:(0,a.jsx)(p.J,{as:C.ije,h:"1.5rem",w:"1.5rem",color:"/create"===e?"black":"gray.700",_dark:{color:"/create"===e?"white":"gray.200"}}),isActive:"/create"===e}),(0,a.jsx)(ev,{href:"/library",label:"Library",icon:(0,a.jsx)(p.J,{as:v.Yj_,h:"1.5rem",w:"1.5rem",color:"/library"===e?"black":"gray.700",_dark:{color:"/library"===e?"white":"gray.200"}}),isActive:"/library"===e})]})};var ez=o(2576);let eD=e=>{let{accountDetails:r}=e,o=(null==r?void 0:r.planType)==="none";return o?(0,a.jsx)(es(),{href:"/pricing",children:(0,a.jsx)(f.z,{flexDir:"row",mx:"0.5rem",my:"0.25rem",w:"calc(100% - 1rem)",border:"0px",borderRadius:"0.5rem",h:"2rem",variant:"solid",children:(0,a.jsx)(y.x,{color:"gray.200",children:"Upgrade"})})}):(0,a.jsx)(a.Fragment,{})},eI=e=>{let{accountDetails:r,children:o,hideable:n,user:l}=e,{isOpen:t,onOpen:i,onClose:s}=(0,Z.q)(),{pathname:c}=(0,Q.useRouter)(),d=et({initialDirection:"up",thresholdPixels:10,off:!n}),x="/library"===c||"/explore"===c||c.includes("/station/");return(0,a.jsxs)(w.k,{id:"scrollableDiv",height:"auto",width:"100vw",maxW:"100vw",flexDirection:"column",children:[(0,a.jsxs)(w.k,{top:"0",position:"sticky",flexDir:"row",w:"100%",h:"3rem",minH:"3rem",bg:"white",borderBottom:"1px",borderColor:"gray.200",_dark:{bg:"gray.900",borderColor:"gray.700"},align:"center",zIndex:"2",transform:"up"===d?"translateY(0)":"translateY(-100%)",transition:"transform 0.2s ease-in-out",children:[(0,a.jsx)(e_,{accountDetails:r,user:l}),(0,a.jsx)(E.L,{}),"/pricing"!==c&&(0,a.jsx)(eD,{accountDetails:r}),(0,a.jsx)(ez.l,{onAccountOpen:i})]}),o,x&&(0,a.jsx)(eS,{}),(0,a.jsx)(ea.Z,{isOpen:t,onClose:s})]})};var eR=o(6757);let eJ=e=>fetch(e,{headers:{"Content-Type":"application/json","x-timezone":Intl.DateTimeFormat().resolvedOptions().timeZone}}).then(e=>e.json()),eO=e=>{let{collapsed:r,isMobile:o,accountDetails:n,user:l}=e,{data:t}=(0,z.ZP)(l?"/api/accountDetails":null,eJ),s=(null==t?void 0:t.streakCount)||(null==n?void 0:n.streakCount),c=(null==t?void 0:t.rewardClaimed)||(null==n?void 0:n.rewardClaimed)||!1,{showModal:d}=(0,i.d)(er.z),{showModal:x}=(0,i.d)(F,{streakCount:s,rewardClaimed:c,plan:(null==n?void 0:n.planType)||"none",isMobile:o,closeable:!0}),g=()=>{(0,eo.Q)({func:x,isLoggedIn:!!(null==n?void 0:n.customerId),showModal:d})};return(0,a.jsxs)(w.k,{cursor:"pointer",p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:r?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},onClick:g,gap:"0.75rem",children:[(0,a.jsx)(p.J,{as:O.ZBn,h:"1.25rem",w:"1.25rem",color:"red.500"}),!r&&(0,a.jsxs)(y.x,{fontSize:"md",children:[s&&s,s?" Day Streak":"Streaks"]})]})};function eW(){let e=(0,P._)(["\n  0% { transform: scale(1); opacity: 1; }\n  50% { transform: scale(1.2); opacity: 0.9; }\n  100% { transform: scale(1); opacity: 1; }\n"]);return eW=function(){return e},e}let eM=(0,T.F4)(eW()),eF=e=>{let{isMobile:r,collapsed:o,onNavClick:n,handleWhatsNewOpen:s,showNotification:c,accountDetails:d,user:x}=e,g=(0,Q.useRouter)(),m=(0,ee.m)(),[j,b]=(0,t.useState)(!1),f=x&&"string"==typeof x.email,k=(0,q.p)(),S=window.location.pathname,D="/explore"===S||S.includes("/station/"),I=e=>r=>{n&&n(),S===e&&r.preventDefault(),"/explore"===e&&D&&(window.location.href="/explore",r.preventDefault())},{data:J}=(0,z.ZP)(x?"/api/project/listProjects":null),{isOpen:W,onOpen:M,onClose:F}=(0,Z.q)(),{isOpen:A,onOpen:N,onClose:P}=(0,Z.q)(),{handleTourBegin:T,setHasClaimedReward:et}=(0,el.r)(),{showModal:ei}=(0,i.d)(en.D,{handleTourBegin:T}),{showModal:es}=(0,i.d)(er.z);async function ec(){try{l.ZP.reset()}catch(e){}await g.push({pathname:"/api/auth/logout",query:{returnTo:"/"}})}async function ed(){await g.push({pathname:"/api/auth/login",query:{returnTo:m}})}(0,t.useEffect)(()=>{J&&J.length>0&&b(!0)},[J]);let ex=o?"55px":"250px",{colorMode:eg,toggleColorMode:eh}=(0,H.If)();return(0,t.useEffect)(()=>{localStorage&&localStorage.setItem("chakra-ui-color-mode",eg)},[eg]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.K,{justify:"space-between",h:"100%",w:ex,maxW:ex,p:"8px",children:[(0,a.jsxs)(u.K,{gap:"0.25rem",children:[(0,a.jsx)(R.xu,{children:(0,a.jsx)(L.r,{href:"/explore",onClick:I("/explore"),children:(0,a.jsxs)(w.k,{align:"center",justify:o?"center":"",p:"0.5rem",borderRadius:"0.5rem",w:"100%",color:"gray.800",bgColor:D?"gray.200":"transparent",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{bgColor:D?"gray.700":"transparent",color:"gray.200",_hover:{bgColor:"gray.600"}},children:[(0,a.jsx)(p.J,{as:_.wcj,h:"1.75rem",w:"1.75rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"lg",ml:"0.75rem",children:"Explore"})]})})}),(0,a.jsx)(L.r,{href:"/create",onClick:I("/create"),children:(0,a.jsxs)(w.k,{p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",bgColor:"/create"===S?"gray.200":"transparent",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{bgColor:"/create"===S?"gray.700":"transparent",color:"gray.200",_hover:{bgColor:"gray.600"}},children:[(0,a.jsx)(p.J,{as:C.ije,h:"1.75rem",w:"1.75rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"lg",ml:"0.75rem",children:"Create"})]})}),(0,a.jsx)(L.r,{href:"/library",onClick:I("/library"),children:(0,a.jsxs)(w.k,{p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",bgColor:"/library"===S?"gray.200":"transparent",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{bgColor:"/library"===S?"gray.700":"transparent",color:"gray.200",_hover:{bgColor:"gray.600"}},children:[(0,a.jsx)(p.J,{as:v.Yj_,h:"1.75rem",w:"1.75rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"lg",ml:"0.75rem",children:"Library"})]})}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.i,{}),(0,a.jsx)(L.r,{href:"/projects",onClick:I("/projects"),children:(0,a.jsxs)(w.k,{p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",bgColor:"/projects"===S?"gray.200":"transparent",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{bgColor:"/projects"===S?"gray.700":"transparent",color:"gray.200",_hover:{bgColor:"gray.600"}},children:[(0,a.jsx)(p.J,{as:_.Xwg,h:"1.5rem",w:"1.5rem"}),!o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.x,{fontSize:"md",ml:"0.75rem",children:"Projects"}),(0,a.jsx)(E.L,{}),(0,a.jsx)(K.C,{children:"Legacy"})]})]})})]})]}),(0,a.jsxs)(u.K,{gap:"0.25rem",children:[(0,a.jsx)(eO,{user:x,accountDetails:d,collapsed:o,isMobile:r}),(0,a.jsxs)(w.k,{cursor:"pointer",p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},onClick:s,gap:"0.75rem",children:[(0,a.jsxs)(w.k,{pos:"relative",children:[(0,a.jsx)(p.J,{as:O.iih,h:"1.25rem",w:"1.25rem"}),c&&(0,a.jsx)(R.Cd,{pos:"absolute",top:"-0.25rem",right:"-0.15rem",size:".65rem",bg:"red.500",css:{animation:"".concat(eM," 2s infinite")}})]}),!o&&(0,a.jsx)(y.x,{fontSize:"md",children:"What's New"})]}),(0,a.jsxs)(B.v,{autoSelect:!1,placement:"auto",children:[(0,a.jsx)(U.j,{h:"100%",borderRadius:"0.5rem",_hover:{bgColor:"gray.300"},_active:{bgColor:"gray.200"},_dark:{_hover:{bgColor:"gray.700"},_active:{bgColor:"gray.800"}},userSelect:"none",children:(0,a.jsxs)(w.k,{p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},gap:"0.75rem",children:[(0,a.jsx)(p.J,{as:O.nGB,h:"1.25rem",w:"1.25rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"md",children:"Learn"})]})}),(0,a.jsxs)(X.q,{mx:"0rem",mb:"0.5rem",bg:"gray.100",borderColor:"gray.400",_dark:{bg:"gray.800",borderColor:"gray.600"},zIndex:5,children:[(0,a.jsxs)(Y.s,{as:L.r,href:"https://decohere.notion.site/Decohere-Guide-d07589634dce4e20878819a2fbfba8c1",target:"_blank",fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:()=>{l.ZP.capture("Opened Guide"),n&&n()},children:[(0,a.jsx)(p.J,{as:O.uYZ}),(0,a.jsx)(y.x,{fontSize:"md",my:"6px",ml:"0.5rem",children:"Guide"})]}),(0,a.jsxs)(Y.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:async()=>{"/create"!==S&&await g.push("/create"),(0,eo.Q)({func:()=>{ei(),et(!0)},isLoggedIn:!!(null==d?void 0:d.customerId),showModal:es}),k.closeAll(),n&&n()},children:[(0,a.jsx)(p.J,{as:O.FcZ,w:"1rem",h:"1rem"}),(0,a.jsx)(y.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:"Tutorial"})]})]})]}),(0,a.jsx)(L.r,{href:"/pricing",onClick:I("/pricing"),children:(0,a.jsxs)(w.k,{p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},gap:"0.75rem",children:[(0,a.jsx)(p.J,{as:O.RcD,h:"1.25rem",w:"1.25rem"}),!o&&(0,a.jsx)(y.x,{fontSize:"md",children:"Pricing"})]})}),(0,a.jsxs)(w.k,{cursor:"pointer",p:"0.5rem",borderRadius:"0.5rem",align:"center",justify:o?"center":"",color:"gray.800",_hover:{bgColor:"gray.300",textDecoration:"underline"},_dark:{color:"gray.200",_hover:{bgColor:"gray.600"}},onClick:()=>{eh()},gap:"0.75rem",children:["dark"===eg?(0,a.jsx)(p.J,{as:$.EWX,h:"1.25rem",w:"1.25rem"}):(0,a.jsx)(p.J,{as:$.Dq,h:"1.25rem",w:"1.25rem"}),!o&&(0,a.jsxs)(y.x,{fontSize:"md",userSelect:"none",children:["light"===eg?"Dark":"Light"," Mode"]})]}),!o&&(0,a.jsx)(eD,{accountDetails:d}),!r&&(0,a.jsxs)(B.v,{autoSelect:!1,placement:"right-start",children:[(0,a.jsx)(U.j,{h:"100%",borderRadius:"0.5rem",onClick:f?void 0:ed,_hover:{bgColor:"gray.300"},_active:{bgColor:"gray.200"},_dark:{_hover:{bgColor:"gray.700"},_active:{bgColor:"gray.800"}},userSelect:"none",children:(0,a.jsxs)(w.k,{flexDir:"row",align:"center",cursor:"pointer",children:[(0,a.jsx)(G.q,{src:null==x?void 0:x.picture,name:null==x?void 0:x.name,w:o?"1.5rem":"2rem",minW:o?"1.5rem":"2rem",h:o?"1.5rem":"2rem",bg:"gray.800",m:"0.5rem",border:"1px",color:"gray.200",_dark:{color:"gray.600",bg:"gray.500"}}),f&&!o&&(0,a.jsxs)(w.k,{flexDir:"column",align:"start",children:[(0,a.jsx)(y.x,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},noOfLines:1,userSelect:"none",children:"".concat(null==x?void 0:x.name)}),(0,a.jsx)(y.x,{fontSize:"xs",color:"gray.600",_dark:{color:"gray.400"},noOfLines:1,userSelect:"none",children:"".concat(null==x?void 0:x.email)})]}),!f&&!o&&(0,a.jsx)(y.x,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},noOfLines:1,userSelect:"none",children:"Log in"}),!o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.L,{}),(0,a.jsx)(p.J,{as:f?V.evw:O.IPB,height:"18px",width:"18px",color:"gray.800",_dark:{color:"gray.200"},display:"flex",alignItems:"center",mr:"0.5rem"})]})]})}),f&&(0,a.jsxs)(X.q,{mx:"0rem",mb:"0.5rem",bg:"gray.100",borderColor:"gray.400",_dark:{bg:"gray.800",borderColor:"gray.600"},zIndex:5,children:[(0,a.jsxs)(Y.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:N,children:[(0,a.jsx)(O.m3W,{}),(0,a.jsx)(y.x,{fontStyle:"default",ml:"0.5rem",my:"4px",children:"Account Details"})]}),(0,a.jsxs)(Y.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},onClick:M,children:[(0,a.jsx)(p.J,{as:O.iq7}),(0,a.jsx)(y.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:"Report Issue"})]}),(0,a.jsxs)(Y.s,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200",_hover:{bg:"red.600"}},onClick:ec,_hover:{bg:"red.600",color:"gray.200"},children:[(0,a.jsx)(O.fHX,{}),(0,a.jsx)(y.x,{ml:"0.5rem",my:"4px",children:"Log out"})]})]})]})]})]}),(0,a.jsx)(ea.Z,{isOpen:A,onClose:P}),(0,a.jsx)(eR.Z,{isOpen:W,onClose:F})]})};var eL=eF,eE=o(8823),eZ=o(3454);let eA=()=>(eZ.env.NEXT_PUBLIC_DEV_QUEUE,(0,a.jsx)(a.Fragment,{children:!1})),eN=e=>{let{children:r,accountDetails:o,user:n}=e,{isSidebarCollapsed:l,setIsSidebarCollapsed:i}=(0,eE.y)(),{isOpen:s,onOpen:c,onClose:d}=(0,Z.q)(),[x,g]=(0,t.useState)(!1),h=e=>{i(e),A.Z.set("navCollapsed",e?"true":"false")},m=()=>{g(!1),c(),localStorage.setItem(ej,"2")};return(0,t.useEffect)(()=>{let e=()=>{window.innerWidth<800&&i(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)(w.k,{width:"100vw",maxW:"100vw",h:"100vh",maxH:"100vh",flexDirection:"row",children:[(0,a.jsxs)(u.K,{gap:"0rem",children:[!l&&(0,a.jsx)(eA,{}),(0,a.jsxs)(w.k,{flexDir:"row",alignItems:"center",m:"8px",children:[!l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.r,{"aria-label":"Decohere logo button",href:"/",display:"flex",alignItems:"center",children:(0,a.jsx)(p.J,{as:N.D,w:"170px",minW:"170px",h:"40px",minH:"40px",ml:"8px",color:"gray.800",_dark:{color:"gray.100"}})}),(0,a.jsx)(E.L,{})]}),(0,a.jsx)(f.z,{"aria-label":"Menu Button",mt:"4px",cursor:"pointer",variant:"ghost",w:"40px",h:"40px",p:"0px",color:"gray.800",_dark:{color:"gray.400"},onClick:()=>h(!l),children:l?(0,a.jsx)(p.J,{as:v.gvo,h:"24px",w:"24px"}):(0,a.jsx)(p.J,{as:v.fMf,h:"24px",w:"24px"})})]}),(0,a.jsx)(eL,{user:n,isMobile:!1,collapsed:l,handleWhatsNewOpen:m,showNotification:x,accountDetails:o}),(0,a.jsx)(eC,{accountDetails:o,onWhatsNewOpen:c,whatsNewOpen:s,onWhatsNewClose:d,isMobile:!1,setShowNotification:g})]}),r]})},eP=e=>{let{accountDetails:r,children:o,isMobile:s,hideable:c,user:d}=e,x=(0,n.Z)();s=s||x;let g=(0,t.useRef)(!1),{streakCount:h,rewardClaimed:m}=r||{},{showModal:u}=(0,i.d)(F,{streakCount:h,isMobile:s,plan:(null==r?void 0:r.planType)||"none"});return((0,t.useEffect)(()=>{r&&!g.current&&(l.ZP.identify(r.customerId,{email:r.email,customer_id:r.customerId,plan_type:r.planType,billed_monthly:r.billedMonthly}),"none"!==r.planType&&l.ZP.startSessionRecording(),g.current=!0)},[r]),(0,t.useEffect)(()=>{h&&h>0&&!m&&u()},[h,m]),s)?(0,a.jsx)(eI,{accountDetails:r,hideable:c,user:d,children:o}):(0,a.jsx)(eN,{accountDetails:r,user:d,children:o})};var eT=eP},6757:function(e,r,o){var a=o(5893),n=o(5541),l=o(3589),t=o(4581),i=o(6205),s=o(4346),c=o(1293),d=o(7169),x=o(3717),g=o(2916),h=o(7294),m=o(3606),u=o(9893);let p=e=>{let{isOpen:r,onClose:o}=e,[p,y]=(0,h.useState)(""),{user:j}=(0,m.aF)();return(0,a.jsxs)(n.u_,{isOpen:r,onClose:o,isCentered:!0,size:"md",children:[(0,a.jsx)(l.Z,{bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"},backdropFilter:"blur(10px)"}),(0,a.jsxs)(t.h,{border:"1px",borderColor:"gray.200",borderRadius:"0.5rem",overflow:"hidden",_dark:{borderColor:"gray.700"},children:[(0,a.jsx)(i.o,{size:"lg"}),(0,a.jsxs)(s.f,{bg:"white",_dark:{bg:"gray.800"},py:"1rem",children:[(0,a.jsx)(c.x,{fontSize:"16px",mb:"1rem",textColor:"gray.700",_dark:{textColor:"gray.200"},children:"Report an issue"}),(0,a.jsx)(d.g,{bg:"gray.100",borderColor:"transparent",borderRadius:"8px",color:"gray.700",_dark:{color:"gray.200",borderColor:"gray.600",bg:"gray.900"},fontSize:"16px",h:"10rem",p:"1rem",placeholder:"What's the issue?",resize:"none",w:"100%",onChange:e=>y(e.target.value)}),(0,a.jsxs)(x.k,{align:"center",justify:"flex-end",mt:"1rem",gap:"1rem",children:[(0,a.jsx)(g.z,{variant:"unstyled",fontSize:"15px",onClick:o,children:"Cancel"}),(0,a.jsx)(g.z,{variant:"solid",fontSize:"15px",onClick:function(){""!==p&&(u.ZP.capture("Report issue"),fetch("/api/feedback",{cache:"no-store",method:"POST",body:JSON.stringify({page:"Report issue",message:p,email:null==j?void 0:j.email})}),y("")),o()},size:"lg",children:"Submit"})]})]})]})]})};r.Z=p},2576:function(e,r,o){o.d(r,{l:function(){return _}});var a=o(5893),n=o(304),l=o(3606),t=o(6147),i=o(6712),s=o(1170),c=o(3717),d=o(7874),x=o(1702),g=o(4040),h=o(1293),m=o(9289),u=o(4970),p=o(6948),y=o(2916),j=o(1163),b=o(9893),f=o(7294),w=o(2091),k=o(3742),C=o(6757);let _=e=>{let{onAccountOpen:r}=e,o=(0,l.aF)().user,_=(0,j.useRouter)(),[v,S]=(0,f.useState)(!1),z=(0,n.m)(),{showModal:D}=(0,k.d)(C.Z),I=o&&"string"==typeof o.email;async function R(){try{b.ZP.reset()}catch(e){}await _.push({pathname:"/api/auth/logout",query:{returnTo:"/"}})}async function J(){await _.push({pathname:"/api/auth/login",query:{returnTo:z}})}return(0,a.jsxs)(i.v,{autoSelect:!1,children:[(0,a.jsx)(s.j,{h:"100%",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:(0,a.jsxs)(c.k,{cursor:"pointer",flexDir:"row",align:"center",justify:"center",px:"0.25rem",h:"2.5rem",m:"0.25rem",borderRadius:"0.5rem",bg:v?"gray.200":"white",_dark:{bg:v?"gray.700":"gray.900"},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[(0,a.jsx)(d.q,{src:null==o?void 0:o.picture,name:null==o?void 0:o.name,w:"2rem",minW:"2rem",h:"2rem",m:"0.25rem",border:"1px",bg:"gray.800",color:"gray.300",_dark:{color:"gray.600",bg:"gray.500"}}),(0,a.jsx)(t.v,{mt:"0.25rem",boxSize:"1.25rem",color:v?"gray.200":"gray.400"})]})}),(0,a.jsx)(x.h,{children:(0,a.jsxs)(g.q,{mx:"1rem",mt:"0rem",bg:"white",borderColor:"gray.200",_dark:{bg:"gray.800",borderColor:"gray.700"},zIndex:5,children:[I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.k,{flexDir:"row",align:"center",children:[(0,a.jsx)(d.q,{src:null==o?void 0:o.picture,name:null==o?void 0:o.name,w:"3rem",minW:"3rem",h:"3rem",m:"0.5rem",border:"1px",color:"gray.300",_dark:{color:"gray.600"}}),(0,a.jsxs)(c.k,{flexDir:"column",children:[(0,a.jsx)(h.x,{fontSize:"md",color:"gray.800",_dark:{color:"gray.200"},noOfLines:1,children:"".concat(null==o?void 0:o.name)}),(0,a.jsx)(h.x,{fontSize:"sm",color:"gray.500",_dark:{color:"gray.400"},noOfLines:1,children:"".concat(null==o?void 0:o.email)})]})]}),(0,a.jsx)(m.i,{mb:"0.25rem"}),(0,a.jsxs)(u.s,{fontSize:"sm",onClick:r,children:[(0,a.jsx)(w.m3W,{color:"gray.200"}),(0,a.jsx)(h.x,{fontStyle:"default",color:"gray.600",_dark:{color:"gray.200"},ml:"0.5rem",children:"Account Details"})]}),(0,a.jsxs)(u.s,{fontSize:"sm",onClick:D,children:[(0,a.jsx)(p.J,{as:w.iq7}),(0,a.jsx)(h.x,{fontStyle:"default",my:"6px",ml:"0.5rem",children:"Report Issue"})]})]}),(0,a.jsxs)(y.z,{flexDir:"row",mx:"0.5rem",my:"0.25rem",w:"calc(100% - 1rem)",border:"1px",bg:"gray.200",borderColor:"gray.300",_hover:{bg:"gray.300"},_dark:{bg:"black",borderColor:"gray.600",_hover:{bg:"gray.800"}},borderRadius:"0.5rem",h:"2rem",colorScheme:"gray",onClick:I?R:J,children:[I?(0,a.jsx)(p.J,{as:w.fHX,color:"gray.600",_dark:{color:"gray.200"}}):(0,a.jsx)(p.J,{as:w.IPB,color:"gray.600",_dark:{color:"gray.200"}}),(0,a.jsx)(h.x,{ml:"0.5rem",color:"gray.600",_dark:{color:"gray.200"},children:I?"Log out":"Log in"})]})]})})]})}}}]);